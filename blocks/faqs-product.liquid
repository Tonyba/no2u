{% assign block_settings = block.settings %}
{% liquid
  assign faqs_data = product.metafields.custom.faqs
%}

{% stylesheet %}
  .faqs .icon-plus {
    display: none;
  }

  .faqs accordion-custom {
    background-color: #f8f9fb;
    padding: 40px 30px;
  }

  .faqs .icon-caret {
    flex-shrink: 0;
    width: 48px;
    height: 48px;
    border-radius: 100%;
    border: 1px solid #676767;
    color: #c92531;
  }

  .faqs p {
    font-size: 14px;
  }

  .faqs .details__header {
    font-weight: bold;
    font-size: 18px;
    color: #000000;
    column-gap: 35px;
  }

  .faqs .faqs-section accordion-custom {
    padding: 10px 50px;
  }

  .faqs .faqs-subscribe accordion-custom {
    padding: 15px 18px;
    border-bottom: 1px solid;
  }

  .faqs .faqs-subscribe {
    gap: 0;
  }

  .faqs .faqs-subscribe .details-content p {
    color: #676767;
    font-size: 16px;
  }

  @media only screen and (max-width: 1024px) {
    .faqs .faqs-subscribe {
      grid-template-columns: repeat(1, 1fr);
    }
  }

  @media only screen and (max-width: 767px) {
    .faqs accordion-custom,
    .faqs .faqs-section accordion-custom {
      padding: 12px 13px;
    }

    .faqs .details__header {
      font-size: 16px;
    }
  }
{% endstylesheet %}

{{ product.metafields.custom | json }}

<div class="grid cols-{{ block_settings.columns}} cols-1-t no-template-areas {{ block.settings.css_class }}">
  {% for item in faqs_data %}
    {% assign faqs_split = item | split: '|' %}
    {% assign faqs_title = faqs_split.first %}
    {% assign faqs_content = faqs_split.last %}
    {% render 'accordion-row', title: faqs_title, content: faqs_content %}
  {% endfor %}
</div>

{% schema %}
{
  "name": "FAQs Product",
  "class": "faqs w-100",
  "settings": [
    {
      "type": "text",
      "id": "css_class",
      "label": "CSS Class"
    },
    {
      "type": "number",
      "id": "columns",
      "label": "Columns",
      "default": 1
    }
  ],
  "presets": [
    {
      "name": "FAQs Product"
    }
  ]
}
{% endschema %}
